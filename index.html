<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
  <title>Y2K x ROAST | Dual Chain Chaos</title>
  <meta name="description" content="The Y2K x ROAST fusion hub. Explore NFTs, burn mechanics, trading portals, and Web3 arcade access.">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
  <style>
    body {
      background: #0a0a0a url('https://www.transparenttextures.com/patterns/asfalt-dark.png');
      background-size: auto;
      font-family: 'Rubik', sans-serif;
      color: #e2e8f0;
      overflow-x: hidden;
    }
    .glitch {
      text-shadow: 2px 0 red, -2px 0 cyan;
      font-family: 'Orbitron', sans-serif;
      animation: glitch 2s infinite;
    }
    @keyframes glitch {
      0%,100%{text-shadow:2px 0 red,-2px 0 cyan;}
      25%{text-shadow:-2px 0 red,2px 0 cyan;}
      50%{text-shadow:2px 0 cyan,-2px 0 red;}
      75%{text-shadow:-2px 0 cyan,2px 0 red;}
    }
    .glow-token {
      box-shadow: 0 0 20px #ff00ff;
      animation: pulse-glow 2s infinite;
    }
    @keyframes pulse-glow {
      0%,100% { box-shadow: 0 0 20px #ff00ff; }
      50% { box-shadow: 0 0 30px #ff00ff; }
    }
    .neon-border {
      border: 2px solid #ff00ff;
      box-shadow: 0 0 10px #ff00ff;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .neon-border:active {
      transform: scale(0.95);
      box-shadow: 0 0 5px #ff00ff;
    }
    .glow {
      background: rgba(255, 0, 255, 0.1);
      border: 2px solid #ff0077;
      box-shadow: 0 0 20px #ff0077;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .glow:active {
      transform: scale(0.95);
      box-shadow: 0 0 10px #ff0077;
    }
    .overlay-connect {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
      font-family: 'Orbitron', sans-serif;
      display: none;
    }
  </style>
</head>

<body class="bg-[#0a0a0a] text-white relative">
<div id="connectOverlay" class="overlay-connect">
  Connecting Wallet...
</div>

<div id="app" class="min-h-screen flex flex-col">

<!-- Hero Banner -->
<div class="w-full h-[200px] relative overflow-hidden">
  <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5445.jpeg" 
       alt="Y2K x ROAST Banner" class="w-full h-full object-cover">
  <div class="absolute inset-0 bg-gradient-to-b from-transparent to-[#0a0a0a]"></div>
</div>

<!-- Top Navigation -->
<header class="w-full p-4 bg-[#0f0f0f]/90 backdrop-blur-md flex justify-between items-center fixed top-0 z-50">
  <div class="flex items-center gap-3">
    <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5445.jpeg" 
         alt="Y2K Token" class="w-8 h-8 glow-token">
    <h1 class="text-2xl glitch font-bold">Y2K x $ROAST</h1>
  </div>
  <nav class="space-x-4 text-sm">
    <a href="#nfts" class="hover:text-[#ff00ff]">Mint</a>
    <a href="#dex" class="hover:text-[#ff00ff]">Trade</a>
    <a href="#connect" class="hover:text-[#ff00ff]">Connect</a>
    <a href="#submit-roast" class="hover:text-[#ff00ff]">Submit</a>
    <a href="#roasted" class="hover:text-[#ff00ff]">ROASTED</a>
  </nav>
</header>

<!-- Hero Section -->
<section class="text-center py-24 px-4 bg-gradient-to-b from-[#0a0a0a] to-[#0f0f0f] mt-14">
  <div class="flex justify-center mb-8">
    <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5445.jpeg" 
         alt="Y2K Token" class="w-32 h-32 glow-token animate-float">
  </div>
  <h2 class="text-4xl glitch font-bold mb-4">Dual Chain. No Mercy.</h2>
  <p class="text-lg mx-auto text-gray-400">
    From CRO to SOL, we roast devs, reward the fearless, and burn it all to the ground.
  </p>
  <div class="mt-8 flex flex-col gap-4">
    <a href="#nfts" class="px-6 py-3 neon-border">View NFTs</a>
    <a href="#dex" class="px-6 py-3 neon-border">Trade Now</a>
  </div>
</section>

<!-- NFT Section -->
<section id="nfts" class="relative bg-[#111] py-12 px-4">
  <div class="absolute inset-0 opacity-20" style="background: url('https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5445.jpeg') center/cover no-repeat;"></div>
  <div class="relative z-10">
    <h3 class="text-3xl glitch font-bold text-center mb-8">Live Music NFT Drops</h3>
    <div class="overflow-x-auto whitespace-nowrap space-x-4 flex px-2 pb-4 snap-x snap-mandatory">
      <div class="inline-block w-48 h-48 flex-shrink-0 snap-center">
        <a href="https://eric-mode-business-boomin.nfts2.me/" target="_blank">
          <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5510.jpeg" 
               alt="Eric Mode" class="w-48 h-48 rounded neon-border object-cover" loading="lazy">
        </a>
      </div>
      <div class="inline-block w-48 h-48 flex-shrink-0 snap-center">
        <a href="https://cronoshadow.nfts2.me/" target="_blank">
          <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5403.jpeg" 
               alt="Cards of Cronos" class="w-48 h-48 rounded neon-border object-cover" loading="lazy">
        </a>
      </div>
      <div class="inline-block w-48 h-48 flex-shrink-0 snap-center">
        <a href="https://creative-diamondhands-final-strike-mode.nfts2.me/" target="_blank">
          <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5299.jpeg" 
               alt="DiamondHands" class="w-48 h-48 rounded neon-border object-cover" loading="lazy">
        </a>
      </div>
      <div class="inline-block w-48 h-48 flex-shrink-0 snap-center">
        <a href="https://dojo-warriors-anthem.nfts2.me/" target="_blank">
          <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5285.jpeg" 
               alt="Dojo Warriors" class="w-48 h-48 rounded neon-border object-cover" loading="lazy">
        </a>
      </div>
    </div>
  </div>
</section>

  <!-- Submit Roast Section -->
<section id="submit-roast" class="py-16 px-6 bg-black text-center">
  <h3 class="text-4xl glitch font-bold mb-4">Submit a Roast Target</h3>
  <p class="text-gray-400 max-w-xl mx-auto mb-4">
    Drop a name from ùïè. Choose SOL or CRO. The top roast wins half the pot ‚Äî the rest gets burned.
  </p>

  <!-- Prize Pool Display -->
  <div class="text-lg text-pink-400 font-bold mb-6">
    This Week's Pool: <span id="poolCRO">0 CRO</span> + <span id="poolSOL">0 SOL</span>
  </div>

  <!-- Wallet Connection Status -->
  <div class="wallet-status bg-[#1a1a1a] p-4 rounded-lg mb-6 max-w-md mx-auto">
    <div id="croStatus" class="mb-2 text-gray-300">CRO Wallet: Not Connected</div>
    <div id="solStatus" class="text-gray-300">SOL Wallet: Not Connected</div>
    <div id="balanceStatus" class="mt-2 text-gray-300"></div>
    <div class="flex gap-4 mt-4 justify-center">
      <button onclick="connectCRO()" class="px-4 py-2 bg-[#ff00ff] text-black rounded hover:bg-pink-600">
        Connect CRO
      </button>
      <button onclick="connectSOL()" class="px-4 py-2 bg-[#ff00ff] text-black rounded hover:bg-pink-600">
        Connect SOL
      </button>
    </div>
  </div>

  <!-- Roast Submission Form -->
  <form id="roastForm" class="max-w-md mx-auto space-y-4">
    <select id="tokenChoice" class="w-full p-3 rounded bg-[#1a1a1a] text-white neon-border">
      <option value="CRO">Submit with CRO (60)</option>
      <option value="SOL">Submit with SOL (0.032)</option>
    </select>

    <input type="text" id="targetName" name="target" 
           placeholder="@name or project from ùïè"
           class="w-full p-3 rounded bg-[#1a1a1a] text-white neon-border"/>

    <button type="button" onclick="handleSubmit()" 
            class="w-full bg-[#ff00ff] text-black font-bold py-2 rounded hover:bg-pink-600">
      Submit Roast
    </button>
  </form>

  <!-- Transaction Status -->
  <div id="txStatus" class="mt-4 p-4 rounded-lg hidden"></div>
  <div id="shareRoast" class="mt-4"></div>
</section>

<!-- Roasted Section -->
<section id="roasted" class="py-16 px-6 bg-[#111] text-center">
  <h3 class="text-4xl glitch font-bold mb-8">ROASTED</h3>
  <p class="text-gray-400 max-w-xl mx-auto mb-6">
    These names got scorched this week. Fire them up or drop your own below.
  </p>
  <div id="roastList" class="grid gap-4 max-w-2xl mx-auto"></div>
</section>

<!-- DEX Section -->
<section id="dex" class="bg-[#111] py-12 px-4 text-center">
  <h3 class="text-3xl glitch font-bold mb-4">Trade with Fire</h3>
  <div class="flex flex-col gap-4 mt-6">
    <a href="https://dexscreener.com/cronos/0xDdF11258F392080BC16cF26aA1C58A19c50b9641" 
       target="_blank" class="px-6 py-3 glow">
      Trade $Y2K (Cronos)
    </a>
    <a href="https://raydium.io/launchpad/token/?mint=A6db9o4y5phC5ncSdM8pQKmWanodxLyXgwxuVCuA4ray" 
       target="_blank" class="px-6 py-3 glow">
      Trade $ROAST (Solana)
    </a>
  </div>
</section>

<!-- Connect Section -->
<section id="connect" class="py-12 px-4 text-center">
  <h3 class="text-3xl glitch font-bold mb-4">Stay Plugged In</h3>
  <p class="text-gray-400 mb-6">Join the fam. Talk your shit. Earn your spot.</p>
  <div class="flex justify-center gap-4">
    <a href="https://discord.gg/XxtpYNXX4a" target="_blank" class="neon-border px-4 py-2">Discord</a>
    <a href="https://x.com/y2kc0in?s=21" target="_blank" class="neon-border px-4 py-2">ùïè (Twitter)</a>
  </div>
</section>

<!-- Footer -->
<footer class="bg-black text-center text-sm py-8 px-4 text-gray-600 mt-auto">
  Y2KCoin & $ROAST ‚Äî Contract Addresses:<br/>
  <span class="break-all">Cronos: 0xB4Df7d2A736Cc391146bB0dF4277E8F68247Ac6d</span><br/>
  <span class="break-all">Solana: A6db9o4y5phC5ncSdM8pQKmWanodxLyXgwxuVCuA4ray</span>
</footer>
</div> <!-- END OF #APP -->

  <!-- Firebase SDK + Firestore Setup -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCLGt0gVlI8BKdrpME4IefwVjF_ehJJmug",
  authDomain: "y2kroast-512ee.firebaseapp.com",
  projectId: "y2kroast-512ee",
  storageBucket: "y2kroast-512ee.appspot.com",
  messagingSenderId: "602588659855",
  appId: "1:602588659855:web:f01efa4b81e737d26270fa"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// Global States
let croWallet = null;
let solWallet = null;
let isProcessing = false;

// Constants
const CRO_RECIPIENT = "0x99FD6Daaa57ebE7f10Ee94E6c1b7522Fa2b0d100";
const SOL_RECIPIENT = "HQcgVnNacvvjK4ToX8Pcq2bKmD5s32XR6AarQ2EVrrpq";
const CRO_AMOUNT = "60";
const SOL_AMOUNT = "0.032";

// Helper: Show Overlay
function showOverlay(show) {
  const overlay = document.getElementById('connectOverlay');
  overlay.style.display = show ? 'flex' : 'none';
}

// Connect CRO Wallet
async function connectCRO() {
  try {
    showOverlay(true);
    const provider = window.ethereum;
    if (!provider) throw new Error('No MetaMask detected.');

    await provider.request({ method: 'eth_requestAccounts' });
    croWallet = new ethers.providers.Web3Provider(provider);

    await provider.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: '0x19' }] });

    const signer = croWallet.getSigner();
    const address = await signer.getAddress();
    const balance = await croWallet.getBalance(address);
    document.getElementById('croStatus').textContent = `CRO Wallet: Connected (${address.slice(0,6)}...)`;
    document.getElementById('balanceStatus').textContent = `Balance: ${parseFloat(ethers.utils.formatEther(balance)).toFixed(2)} CRO`;

  } catch (error) {
    console.error('CRO Wallet Connect Error:', error.message);
    alert(error.message);
  } finally {
    showOverlay(false);
  }
}

// Connect SOL Wallet
async function connectSOL() {
  try {
    showOverlay(true);
    const provider = window.phantom?.solana || window.solflare?.solana || window.backpack?.solana;
    if (!provider) throw new Error('No Solana wallet detected.');

    if (!provider.isConnected) await provider.connect();

    solWallet = provider;
    const connection = new solanaWeb3.Connection("https://thrilling-old-sailboat.solana-mainnet.quiknode.pro/7eeaf93b8ff0a17a6172d1a57f8bf43c81d164a0");
    const balance = await connection.getBalance(provider.publicKey);
    document.getElementById('solStatus').textContent = `SOL Wallet: Connected (${provider.publicKey.toString().slice(0,6)}...)`;
    document.getElementById('balanceStatus').textContent += ` / SOL: ${(balance / solanaWeb3.LAMPORTS_PER_SOL).toFixed(2)}`;

  } catch (error) {
    console.error('SOL Wallet Connect Error:', error.message);
    alert(error.message);
  } finally {
    showOverlay(false);
  }
}

// Handle Roast Submit
async function handleSubmit() {
  if (isProcessing) return;

  const target = document.getElementById('targetName').value.trim();
  const token = document.getElementById('tokenChoice').value;
  if (!target.startsWith('@') || target.length < 3) {
    alert('Please enter a valid ùïè username starting with @');
    return;
  }

  try {
    isProcessing = true;
    showOverlay(true);

    if (token === 'CRO') {
      await saveRoast(target, 'Cronos', 'Simulated_CRO_TX');
    } else {
      await saveRoast(target, 'Solana', 'Simulated_SOL_TX');
    }

    alert('Roast submitted successfully!');

  } catch (error) {
    console.error('Submit Roast Error:', error.message);
    alert('Error submitting roast.');
  } finally {
    showOverlay(false);
    isProcessing = false;
  }
}

// Save Roast to Firestore
async function saveRoast(target, chain, txHash) {
  await addDoc(collection(db, 'roasts'), {
    target: target,
    chain: chain,
    txHash: txHash,
    likes: 0,
    timestamp: Date.now()
  });
  updateRoastList();
}

// Update Roasted List
async function updateRoastList() {
  const roastList = document.getElementById('roastList');
  roastList.innerHTML = '';

  const querySnapshot = await getDocs(collection(db, 'roasts'));
  querySnapshot.forEach((doc) => {
    const roast = doc.data();
    roastList.innerHTML += `
      <div class="roast-item bg-[#1a1a1a] p-4 rounded neon-border" data-target="${roast.target}">
        <div class="flex justify-between items-start">
          <div>
            <div class="font-bold">${roast.target}</div>
            <div class="text-sm text-gray-400">${roast.chain}</div>
            <div class="text-xs text-gray-500 mt-1">TX: ${roast.txHash?.slice(0,8) + '...'}</div>
          </div>
          <div class="text-right">
            <div class="like-count text-pink-400">üî• ${roast.likes}</div>
          </div>
        </div>
      </div>
    `;
  });
}

// Prize Pool Display Placeholder
document.addEventListener('DOMContentLoaded', () => {
  document.getElementById('poolCRO').textContent = '360 CRO';
  document.getElementById('poolSOL').textContent = '0.096 SOL';
  updateRoastList();
});
</script>

</body>
</html>
