<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
  <title>ROAST RECORDS | Powered by Y2K</title>
  <meta name="description" content="Submit songs, anthems, or roasts in the crypto studio built for CRO + SOL degen culture.">
  <meta name="theme-color" content="#0a0a0a"/>

  <!-- Fonts & Tailwind -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Web3 Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
  <script src="https://bundle.run/buffer@6.0.3"></script>

  <style>
    :root {
      color-scheme: dark;
      --accent: #ff00ff;
      --bg: #0a0a0a;
      --glass: rgba(255, 255, 255, 0.05);
    }

    html, body {
      background-color: var(--bg);
      color: #e2e8f0;
      font-family: 'Rubik', sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
    }

    .neon-text {
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 5px var(--accent), 0 0 10px var(--accent);
    }

    .neon-border {
      border: 2px solid var(--accent);
      box-shadow: 0 0 10px var(--accent);
      border-radius: 10px;
      transition: 0.3s ease;
    }

    .neon-border:hover {
      box-shadow: 0 0 20px var(--accent);
    }

    .glass-card {
      background: var(--glass);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 14px;
      padding: 1.5rem;
      box-shadow: 0 0 15px rgba(255, 0, 255, 0.1);
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 1rem 1.5rem;
      z-index: 50;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header a {
      color: white;
      font-size: 0.875rem;
      transition: color 0.3s ease;
    }

    header a:hover {
      color: var(--accent);
    }

    .logo-img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      box-shadow: 0 0 10px var(--accent);
    }

    .glow-button {
      padding: 0.75rem 1.5rem;
      border: 1px solid var(--accent);
      background: rgba(255, 0, 255, 0.1);
      color: white;
      border-radius: 8px;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .glow-button:hover {
      background: rgba(255, 0, 255, 0.2);
      box-shadow: 0 0 20px var(--accent);
    }

    .floating {
      animation: floaty 6s ease-in-out infinite;
    }

    @keyframes floaty {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @media (max-width: 640px) {
      header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="flex items-center gap-4">
      <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5445.jpeg" alt="Logo" class="logo-img" />
      <h1 class="text-lg neon-text font-bold">ROAST RECORDS</h1>
    </div>
    <nav class="flex gap-4">
      <a href="#nfts">NFTs</a>
      <a href="#submit">Submit</a>
      <a href="#vault">Vault</a>
      <a href="#connect">Connect</a>
    </nav>
  </header>

  <!-- Spacer for header -->
  <div class="h-20"></div>

  <!-- Featured NFT Display -->
<section id="nfts" class="relative z-10 py-20 px-6 bg-[#111] text-center">
  <h2 class="text-4xl md:text-5xl neon-text font-bold mb-6">Featured Studio Drop</h2>
  <div class="flex justify-center items-center mb-6">
    <div class="w-64 h-64 rounded-full border-[6px] border-pink-500 neon-border floating"
         style="background: url('https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/main/IMG_5445.jpeg') center/cover; animation: spin 12s linear infinite;"></div>
  </div>
  <p class="text-gray-400 text-lg max-w-md mx-auto">Each submission is minted as a 1-of-1 NFT with a scannable QR. You roast it, we record it.</p>
</section>

<style>
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>

<!-- Submission Form -->
<section id="submit" class="relative z-10 py-20 px-6 bg-[#0a0a0a] text-center">
  <h2 class="text-4xl md:text-5xl neon-text font-bold mb-10">Submit Your Request</h2>

  <div class="glass-card max-w-xl mx-auto">
    <form id="submissionForm" class="space-y-4">
      <select id="requestType" required class="w-full p-4 neon-border bg-black text-white text-lg text-center rounded">
        <option value="">Choose Request Type</option>
        <option value="Anthem">Anthem / Theme Song</option>
        <option value="Custom Song">Custom Song</option>
        <option value="Roast">Roast</option>
        <option value="Other">Other (Intro, Skit, Project Soundtrack)</option>
      </select>

      <input type="text" id="handle" placeholder="@YourHandle" required
        class="w-full p-4 neon-border bg-black text-white text-center rounded text-lg"/>

      <textarea id="notes" placeholder="What do you want this track to say? Vibe? Any links?"
        class="w-full p-4 neon-border bg-black text-white rounded text-lg h-32 resize-none"></textarea>

      <button type="button" onclick="submitStudioRequest()"
        class="w-full glow-button text-lg">Submit (20 CRO)</button>
    </form>
    <div id="studioStatus" class="mt-6 text-sm text-white"></div>
  </div>
</section>

<script>
async function submitStudioRequest() {
  const type = document.getElementById('requestType').value;
  const handle = document.getElementById('handle').value.trim();
  const notes = document.getElementById('notes').value.trim();
  const status = document.getElementById('studioStatus');

  if (!type || !handle.startsWith('@')) {
    status.innerHTML = `<span class="text-red-400">Please select a request type and enter a valid ùïè handle.</span>`;
    return;
  }

  try {
    status.innerHTML = `<span class="text-yellow-400">Processing transaction...</span>`;
    const txHash = await sendCRO("20", "0x99FD6Daaa57ebE7f10Ee94E6c1b7522Fa2b0d100");

    await addDoc(collection(db, "studio_requests"), {
      type,
      handle,
      notes,
      chain: "CRO",
      txHash,
      timestamp: Date.now()
    });

    status.innerHTML = `
      <div class="text-green-400">Submitted successfully!</div>
      <div class="text-sm break-all mt-2">${txHash}</div>`;
  } catch (err) {
    console.error(err);
    status.innerHTML = `<span class="text-red-400">Error: ${err.message}</span>`;
  }
}
</script>

  <!-- Wallet Connect Section -->
<section id="connect" class="relative z-10 py-20 px-6 bg-[#111] text-center">
  <h2 class="text-4xl md:text-5xl neon-text font-bold mb-10">Connect Your Wallet</h2>
  <div class="glass-card max-w-md mx-auto space-y-6">
    <div>
      <button onclick="connectCRO()" class="glow-button w-full">Connect CRO Wallet</button>
      <div id="croStatus" class="text-sm text-gray-400 mt-2">Not connected</div>
    </div>
    <div>
      <button onclick="connectSOL()" class="glow-button w-full">Connect SOL Wallet</button>
      <div id="solStatus" class="text-sm text-gray-400 mt-2">Not connected</div>
    </div>
  </div>
</section>

<!-- Optional Studio Request Feed -->
<!--
<section class="relative z-10 py-16 px-6 bg-[#0a0a0a] text-center">
  <h2 class="text-3xl neon-text font-bold mb-6">Latest Studio Requests</h2>
  <div id="requestFeed" class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto"></div>
</section>

<script>
async function updateRequestFeed() {
  const q = query(collection(db, "studio_requests"), orderBy("timestamp", "desc"));
  const snapshot = await getDocs(q);
  const feed = document.getElementById("requestFeed");
  feed.innerHTML = "";

  snapshot.forEach(doc => {
    const d = doc.data();
    feed.innerHTML += `
      <div class="glass-card text-left space-y-2 neon-border">
        <div class="text-pink-400 font-bold">@${d.handle}</div>
        <div class="text-sm text-white">Type: ${d.type}</div>
        <div class="text-xs text-gray-400 break-all">${d.notes}</div>
        <div class="text-xs text-green-400 mt-2">${d.txHash.slice(0,10)}...</div>
      </div>`;
  });
}
window.addEventListener('load', updateRequestFeed);
</script>
-->

<!-- Footer -->
<footer class="relative z-10 py-10 bg-black text-center text-gray-500 text-sm">
  <div>Studio powered by CRO and SOL. Submit your sound. Burn the silence.</div>
  <div class="flex justify-center gap-6 text-white mt-6">
    <a href="https://discord.gg/XxtpYNXX4a" target="_blank" class="hover:text-pink-400">Join Discord</a>
    <a href="https://x.com/y2kc0in?s=21" target="_blank" class="hover:text-pink-400">Follow ùïè</a>
    <a href="https://y2k-the-vault.netlify.app/" target="_blank" class="hover:text-yellow-400">Enter The Vault</a>
  </div>
</footer>
</body>
</html>

