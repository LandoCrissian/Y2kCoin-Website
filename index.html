<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Y2K | Roast Records</title>
  <meta name="description" content="Official Web3 platform for Y2K | Roast Records. Submit music, discover talent, and dominate the glitch-dub-trap scene." />
  <meta name="theme-color" content="#0b0d12" />

  <!-- üî• Branding -->
  <link rel="icon" href="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/AC6583AD-EE37-486D-8220-6555D24B0D9D.png" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Space+Mono&display=swap" />

  <!-- üåê Style -->
  <style>
    body {
      margin: 0;
      background: #0b0d12;
      color: #f0f0f0;
      font-family: 'Space Mono', monospace;
    }
    header {
      position: sticky;
      top: 0;
      z-index: 99;
      background: #0b0d12ee;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      border-bottom: 1px solid #333;
    }
    header img {
      height: 32px;
    }
    button.connect {
      background: #111;
      color: #0ff;
      border: 1px solid #0ff;
      padding: 0.4rem 1rem;
      font-family: inherit;
      border-radius: 4px;
    }
    h2 {
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #0ff;
    }
    section {
      padding: 2rem 1rem;
      border-bottom: 1px solid #222;
    }
    .card {
      background: #111;
      padding: 1rem;
      border: 1px solid #222;
      border-radius: 6px;
      margin-bottom: 1rem;
    }
    audio {
      width: 100%;
      margin-top: 0.5rem;
    }
    .form-field {
      display: flex;
      flex-direction: column;
      margin-bottom: 1rem;
    }
    .form-field input, .form-field select {
      padding: 0.5rem;
      background: #0b0d12;
      color: #fff;
      border: 1px solid #555;
      border-radius: 4px;
    }
    footer {
      padding: 2rem;
      text-align: center;
      font-size: 0.9rem;
      color: #777;
    }
    .admin {
      background: #1c1c1c;
      border: 1px dashed #0ff;
      padding: 1rem;
    }
  </style>

  <!-- üîå Firebase + Wallet Connect -->
  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore-compat.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.8.2/web3.min.js"></script>
</head>
<body>

  <!-- üîù Header -->
  <header>
    <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/AC6583AD-EE37-486D-8220-6555D24B0D9D.png" alt="Y2K Logo">
    <button class="connect" onclick="connectWallet()">Connect Wallet</button>
  </header>

  <!-- üé§ SynAps3 Featured -->
  <section>
    <h2>üéß Featured: SynAps3</h2>
    <div class="card">
      <strong>Track:</strong> GLITCH MOB INITIATION ‚Äì CROPRO ANTHEM  
      <audio controls src="https://gateway.pinata.cloud/ipfs/QmYNtsQyrUWUYYNRH4PAthZj6KxNzHfA5eS2TpxvZnW5pq"></audio>
      <p style="margin-top:0.5rem;">The anthem that launched the Mob. Tribal, cinematic, and pure glitch warfare.</p>
    </div>
  </section>

  <!-- ‚úÖ Certified Tracks -->
  <section id="certified">
    <h2>‚úÖ Certified Tracks</h2>
    <div id="trackList"></div>
  </section>

  <!-- üìù Submission Form -->
  <section>
    <h2>Submit a Track</h2>
    <form id="submitForm">
      <div class="form-field">
        <label>Project Name</label>
        <input type="text" id="projectName" required />
      </div>
      <div class="form-field">
        <label>ùïè Handle</label>
        <input type="text" id="twitterHandle" placeholder="@yourhandle" />
      </div>
      <div class="form-field">
        <label>Choose a Vibe</label>
        <select id="vibe">
          <option>Glitch</option>
          <option>Dub</option>
          <option>Trap</option>
          <option>Other</option>
        </select>
      </div>
      <div class="form-field">
        <label>IPFS Audio Link</label>
        <input type="url" id="ipfsLink" placeholder="https://gateway.pinata.cloud/ipfs/..." required />
      </div>
      <button type="submit">Submit Track</button>
    </form>
  </section>

  <!-- üîê Admin Panel (Visible if Admin Wallet) -->
  <section id="adminPanel" style="display:none;">
    <h2>üõ†Ô∏è Admin Panel</h2>
    <div class="admin">
      <p>Logged in as Admin</p>
      <button onclick="addSampleTrack()">Add SynAps3 New Track</button>
    </div>
  </section>

  <!-- üìé Footer -->
  <footer>
    &copy; 2025 Y2K | Roast Records ‚Äî Built on Cronos.
  </footer>

  <!-- ‚öôÔ∏è Firebase + Firestore -->
  <script>
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "y2kroastrecords",
      storageBucket: "YOUR_BUCKET",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const adminWallet = "0x7FC2AB08F46C10489Bab5D694D574022f1048198";
    let currentWallet = "";

    async function connectWallet() {
      if (window.ethereum) {
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
        currentWallet = accounts[0];
        document.querySelector('.connect').innerText = currentWallet.slice(0,6)+"..."+currentWallet.slice(-4);
        if (currentWallet.toLowerCase() === adminWallet.toLowerCase()) {
          document.getElementById("adminPanel").style.display = "block";
        }
      }
    }

    document.getElementById("submitForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const data = {
        name: document.getElementById("projectName").value,
        twitter: document.getElementById("twitterHandle").value,
        vibe: document.getElementById("vibe").value,
        ipfs: document.getElementById("ipfsLink").value,
        timestamp: Date.now()
      };
      await db.collection("tracks").add(data);
      alert("Track submitted!");
      e.target.reset();
    });

    async function loadTracks() {
      const snapshot = await db.collection("tracks").orderBy("timestamp", "desc").get();
      const list = document.getElementById("trackList");
      list.innerHTML = "";
      snapshot.forEach(doc => {
        const track = doc.data();
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `<strong>${track.name}</strong> (${track.vibe})<br/>
          <audio controls src="${track.ipfs}"></audio>
          <p>Posted by ${track.twitter || "Anon"}</p>`;
        list.appendChild(div);
      });
    }

    async function addSampleTrack() {
      const data = {
        name: "SynAps3 ‚Äì Third Degree",
        twitter: "@SynAps3",
        vibe: "Trap",
        ipfs: "https://gateway.pinata.cloud/ipfs/QmYNtsQyrUWUYYNRH4PAthZj6KxNzHfA5eS2TpxvZnW5pq",
        timestamp: Date.now()
      };
      await db.collection("tracks").add(data);
      alert("Sample track added.");
      loadTracks();
    }

    loadTracks();
  </script>
</body>
</html>
