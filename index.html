<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Y2K Records | AI Music for Web3</title>
    <link rel="icon" href="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/main/BD8E5D25-877A-427E-B1EA-C3FF422859C5.png" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        --bg: #0b0d12;
        --text: #ffffff;
        --accent: #8f5fff;
        --btn: #4ade80;
        --card: #1a1c21;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        background: var(--bg);
        font-family: 'Space Grotesk', sans-serif;
        color: var(--text);
        padding: 2rem;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        text-align: center;
      }
      p {
        color: #aaa;
        margin-bottom: 2rem;
        text-align: center;
      }
      button, input, textarea {
        font-family: inherit;
        font-size: 1rem;
      }
      .connect-btn {
        background: var(--accent);
        color: #fff;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        cursor: pointer;
        margin-bottom: 2rem;
      }
      form {
        background: var(--card);
        padding: 2rem;
        border-radius: 12px;
        width: 100%;
        max-width: 480px;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        margin-bottom: 3rem;
      }
      input, textarea {
        background: #121317;
        border: 1px solid #333;
        border-radius: 8px;
        color: var(--text);
        padding: 0.75rem;
      }
      .submit-btn {
        background: var(--btn);
        color: #000;
        font-weight: bold;
        border: none;
        padding: 0.75rem;
        border-radius: 8px;
        cursor: pointer;
      }
      .playlist {
        width: 100%;
        max-width: 640px;
      }
      .track {
        background: var(--card);
        padding: 1rem;
        border-radius: 10px;
        margin-bottom: 1rem;
      }
      .track-title {
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
      audio {
        width: 100%;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  </head>
  <body>
    <h1>Y2K Records</h1>
    <p>Custom AI-generated music for your Web3 project</p>

    <button class="connect-btn" id="connectWallet">Connect Wallet</button>

    <form id="requestForm">
      <input type="text" id="projectName" placeholder="Project Name" required />
      <textarea id="vibe" rows="3" placeholder="Describe the Vibe" required></textarea>
      <input type="text" id="xHandle" placeholder="Your ùïè Handle (so we can tag you)" required />
      <button type="submit" class="submit-btn">Submit ‚Äî 30 CRO</button>
    </form>

    <div class="playlist">
      <h2 style="margin-bottom: 1rem;">üéµ Previously Created Songs</h2>
      <div class="track">
        <div class="track-title">CroVegas Theme</div>
        <audio controls src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/main/crovegas.mp3"></audio>
      </div>
      <div class="track">
        <div class="track-title">Roast Records ‚Äî Glitchball</div>
        <audio controls src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/main/glitchball.mp3"></audio>
      </div>
      <!-- Add more tracks here -->
    </div>

    <script>
      const CRO_TREASURY = "0x99FD6Daaa57ebE7f10Ee94E6c1b7522Fa2b0d100";
      const CRO_AMOUNT = "30.0";

      let provider;
      let signer;

      document.getElementById("connectWallet").addEventListener("click", async () => {
        if (typeof window.ethereum !== "undefined") {
          await window.ethereum.request({ method: "eth_requestAccounts" });
          provider = new ethers.providers.Web3Provider(window.ethereum);
          signer = provider.getSigner();

          const { chainId } = await provider.getNetwork();
          if (chainId !== 25) {
            alert("Please switch to the Cronos Mainnet (Chain ID 25)");
          } else {
            const address = await signer.getAddress();
            document.getElementById("connectWallet").innerText = address.slice(0, 6) + "..." + address.slice(-4);
          }
        } else {
          alert("Please install MetaMask");
        }
      });

      document.getElementById("requestForm").addEventListener("submit", async (e) => {
        e.preventDefault();
        if (!signer) {
          alert("Connect your wallet first");
          return;
        }

        const tx = {
          to: CRO_TREASURY,
          value: ethers.utils.parseEther(CRO_AMOUNT)
        };

        try {
          const transaction = await signer.sendTransaction(tx);
          await transaction.wait();
          alert("Request submitted! We'll tag you on ùïè once it's ready.");
          document.getElementById("requestForm").reset();
        } catch (err) {
          alert("Transaction failed or rejected.");
        }
      });
    </script>
  </body>
</html>
