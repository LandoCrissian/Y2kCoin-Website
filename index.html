<!-- index.html -->
<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Y2K | Roast Records</title>

  <!-- SEO + OG -->
  <meta name="description" content="The official dApp of Y2K | Roast Records ‚Äî glitch-dub-trap label on Cronos." />
  <meta property="og:image" content="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_7318.png" />
  <meta property="og:url" content="https://y2kcoin.org" />
  <meta property="og:title" content="Y2K | Roast Records" />
  <meta property="og:description" content="Submit your vibe. Join the legacy. Cronos music lives here." />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="theme-color" content="#0b0d12" />

  <!-- Styles + Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/AC6583AD-EE37-486D-8220-6555D24B0D9D.png" />
  <style>
    :root {
      --dark: #0b0d12;
      --pink: #ff4fc9;
      --teal: #00fff7;
      --glow: 0 0 10px var(--pink);
    }

    body {
      margin: 0;
      font-family: 'Space Grotesk', sans-serif;
      background: var(--dark);
      color: #fff;
    }

    .hero-banner img {
      width: 100%;
      max-width: 100%;
      height: auto;
      display: block;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 6vw;
    }

    button#connectBtn {
      padding: 8px 18px;
      background: var(--teal);
      border: none;
      color: #000;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
    }

    .dropdown-section details {
      margin: 10px 6vw;
      border: 1px solid #333;
      border-radius: 6px;
      overflow: hidden;
    }

    .dropdown-section summary {
      padding: 12px;
      background: #111;
      font-weight: bold;
      cursor: pointer;
    }

    .dropdown-content {
      padding: 12px;
      background: #191919;
    }

    footer {
      text-align: center;
      padding: 20px;
      border-top: 1px solid #222;
    }

    .footer-token {
      width: 30px;
      margin-top: 8px;
      transition: transform 0.3s ease;
    }

    .footer-token:hover {
      transform: scale(1.2);
      filter: drop-shadow(0 0 6px var(--pink));
    }

    /* Modal styles */
    #paymentModal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.75);
      backdrop-filter: blur(4px);
      z-index: 99;
      align-items: center;
      justify-content: center;
    }

    #paymentModal .modal-box {
      background: #111;
      padding: 24px;
      border-radius: 8px;
      max-width: 90%;
    }

    #paymentModal button {
      margin-top: 16px;
      padding: 10px 20px;
      background: var(--pink);
      border: none;
      font-weight: bold;
      color: black;
      cursor: pointer;
      border-radius: 6px;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <div><strong>Y2K | Roast Records</strong></div>
    <button id="connectBtn">Connect Wallet</button>
  </header>

  <!-- Banner -->
  <div class="hero-banner">
    <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_7318.png" alt="Banner" />
  </div>

  <!-- Sections -->
  <div class="dropdown-section">
    <details id="submit"><summary>üé§ Submit a Track</summary>
      <div class="dropdown-content">
        <form id="submitForm">
          <label>Project Name:</label><br>
          <input name="project" required style="width:100%"><br><br>

          <label>ùïè Handle:</label><br>
          <input name="twitter" required style="width:100%"><br><br>

          <label>Choose a Vibe:</label><br>
          <select name="vibe" required style="width:100%">
            <option value="">-- Choose Vibe --</option>
            <option>Glitch</option>
            <option>Dub</option>
            <option>Trap</option>
            <option>Roast</option>
            <option>Other</option>
          </select><br><br>

          <label>Additional Info:</label><br>
          <textarea name="extra" style="width:100%"></textarea><br><br>

          <button type="submit">Submit (30 CRO)</button>
        </form>
      </div>
    </details>

    <details id="about"><summary>About</summary><div class="dropdown-content">Y2K is a glitch-dub-trap label minting on Cronos, forever on-chain.</div></details>
    <details id="faq"><summary>FAQ</summary><div class="dropdown-content">Each track submission costs 30 CRO. Admin will review and stamp approved tracks.</div></details>
  </div>

  <!-- Footer -->
  <footer>
    <div>&copy; 2025 Y2K | Roast Records</div>
    <img class="footer-token" src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/AC6583AD-EE37-486D-8220-6555D24B0D9D.png" alt="Token">
  </footer>

  <!-- Modal -->
  <div id="paymentModal">
    <div class="modal-box">
      <h3>Confirm Submission</h3>
      <p>This will request a 30 CRO payment to Y2K Treasury.</p>
      <button id="confirmPaymentBtn">Confirm & Pay</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script>
    let signer, userAddress, formData;
    const admin = "0x7FC2AB08F46C10489Bab5D694D574022f1048198";

    async function connectWallet() {
      if (!window.ethereum) return alert("Install MetaMask.");
      const provider = new ethers.providers.Web3Provider(window.ethereum);
      await provider.send("eth_requestAccounts", []);
      signer = provider.getSigner();
      userAddress = await signer.getAddress();
      document.getElementById("connectBtn").textContent = userAddress.slice(0, 6) + "..." + userAddress.slice(-4);
      document.getElementById("connectBtn").onclick = disconnectWallet;
      await signer.signMessage("Welcome to Y2K | Roast Records");
      if (userAddress.toLowerCase() === admin.toLowerCase()) alert("Admin Mode Activated");
    }

    function disconnectWallet() {
      userAddress = null;
      signer = null;
      document.getElementById("connectBtn").textContent = "Connect Wallet";
      document.getElementById("connectBtn").onclick = connectWallet;
    }

    document.getElementById("connectBtn").onclick = connectWallet;

    document.getElementById("submitForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      if (!signer || !userAddress) return alert("Please connect your wallet.");

      formData = Object.fromEntries(new FormData(e.target).entries());
      document.getElementById("paymentModal").style.display = "flex";
    });

    document.getElementById("confirmPaymentBtn").onclick = async () => {
      try {
        const tx = await signer.sendTransaction({
          to: "0x99FD6Daaa57ebE7f10Ee94E6c1b7522Fa2b0d100",
          value: ethers.utils.parseEther("30")
        });
        alert("Payment sent. Song request submitted!");
        document.getElementById("submitForm").reset();
        document.getElementById("paymentModal").style.display = "none";
      } catch (err) {
        alert("Transaction failed or rejected.");
      }
    };
  </script>
</body>
</html>
