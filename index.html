<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
  <title>Y2K x ROAST | Portal to the Future</title>
  <meta name="description" content="Step into the luxury cyberpunk world of Y2K x ROAST. Dual-chain chaos. CRO + SOL dominance. Burn it all to the ground.">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Ethers.js (CRO Wallets) -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

  <!-- Solana Web3.js -->
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>

  <style>
    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      background-color: #0a0a0a;
      font-family: 'Rubik', sans-serif;
      color: #e2e8f0;
      position: relative;
    }
    .grain-overlay {
      pointer-events: none;
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/8/89/Noise_texture.png');
      opacity: 0.08;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      animation: grainmove 8s steps(10) infinite;
    }
    @keyframes grainmove {
      0% { background-position: 0 0; }
      25% { background-position: 50px 50px; }
      50% { background-position: 0px 100px; }
      75% { background-position: -50px 50px; }
      100% { background-position: 0 0; }
    }
    .neon-text {
      text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 20px #ff00ff;
      font-family: 'Orbitron', sans-serif;
    }
    .neon-border {
      border: 2px solid #ff00ff;
      box-shadow: 0 0 10px #ff00ff;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .neon-border:hover {
      box-shadow: 0 0 20px #ff00ff;
    }
    .cursor-glow {
      position: fixed;
      width: 15px;
      height: 15px;
      background: #ff00ff;
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      mix-blend-mode: overlay;
      opacity: 0.6;
      transform: translate(-50%, -50%);
      transition: transform 0.05s ease;
    }
  </style>
</head>

<body class="relative">

<!-- Grain Background -->
<div class="grain-overlay"></div>

<!-- Cursor Glow -->
<div id="cursorGlow" class="cursor-glow hidden"></div>

<!-- ENTER PORTAL INTRO OVERLAY -->
<div id="enterOverlay" class="fixed inset-0 bg-black bg-opacity-90 flex flex-col justify-center items-center z-50">
  <h1 class="text-5xl md:text-7xl neon-text font-bold mb-8 animate-pulse">Welcome to Y2K x ROAST</h1>
  <button onclick="enterPortal()" class="px-10 py-5 neon-border text-white font-bold text-2xl hover:bg-pink-600 transition">
    Enter Portal
  </button>
</div>

<!-- Main Portal -->
<div id="portal" class="relative z-10 min-h-screen flex flex-col justify-center items-center text-center px-6">
  <h1 class="text-5xl md:text-7xl neon-text font-bold mb-6 animate-pulse">Y2K x ROAST</h1>
  <p class="text-lg md:text-2xl text-gray-400 mb-8 max-w-2xl">Dual-Chain Domination. CRO meets SOL. Roasting the old world to build a new one.</p>
  <a href="#connect" class="px-8 py-4 neon-border text-white font-bold uppercase tracking-wide hover:bg-pink-600 transition">Connect Wallets</a>
</div>

<!-- NFT Drops Section -->
<section id="nfts" class="relative z-10 py-24 px-6 bg-[#111] text-center">
  <h2 class="text-4xl md:text-6xl neon-text font-bold mb-10">Live NFT Drops</h2>
  <div class="overflow-x-auto whitespace-nowrap space-x-6 flex px-2 pb-4 snap-x snap-mandatory">
    <div class="inline-block w-64 flex-shrink-0 snap-center">
      <a href="https://eric-mode-business-boomin.nfts2.me/" target="_blank">
        <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5510.jpeg"
             alt="Eric Mode" class="w-64 h-64 rounded-xl neon-border object-cover hover:scale-105 transition" loading="lazy"/>
        <div class="mt-2 font-bold text-white">Eric Mode</div>
      </a>
    </div>
    <div class="inline-block w-64 flex-shrink-0 snap-center">
      <a href="https://cronoshadow.nfts2.me/" target="_blank">
        <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5403.jpeg"
             alt="Cards of Cronos" class="w-64 h-64 rounded-xl neon-border object-cover hover:scale-105 transition" loading="lazy"/>
        <div class="mt-2 font-bold text-white">Cards of Cronos</div>
      </a>
    </div>
    <div class="inline-block w-64 flex-shrink-0 snap-center">
      <a href="https://creative-diamondhands-final-strike-mode.nfts2.me/" target="_blank">
        <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5299.jpeg"
             alt="DiamondHands" class="w-64 h-64 rounded-xl neon-border object-cover hover:scale-105 transition" loading="lazy"/>
        <div class="mt-2 font-bold text-white">DiamondHands</div>
      </a>
    </div>
    <div class="inline-block w-64 flex-shrink-0 snap-center">
      <a href="https://dojo-warriors-anthem.nfts2.me/" target="_blank">
        <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5285.jpeg"
             alt="Dojo Warriors" class="w-64 h-64 rounded-xl neon-border object-cover hover:scale-105 transition" loading="lazy"/>
        <div class="mt-2 font-bold text-white">Dojo Warriors</div>
      </a>
    </div>
  </div>
</section>

  <!-- Connect Wallets Section -->
<section id="connect" class="relative z-10 py-24 px-6 flex flex-col items-center bg-black text-center">
  <h2 class="text-4xl md:text-6xl neon-text font-bold mb-4">Connect Your Wallet</h2>
  <p class="text-lg text-gray-400 mb-8">To roast. To mint. To dominate.</p>

  <div class="flex flex-wrap gap-6 justify-center mb-10">
    <button onclick="connectCRO()" class="px-6 py-3 neon-border">Connect CRO Wallet</button>
    <button onclick="connectSOL()" class="px-6 py-3 neon-border">Connect SOL Wallet</button>
  </div>

  <div id="walletStatus" class="text-gray-300 text-sm space-y-2">
    <div id="croStatus">CRO Wallet: Not Connected</div>
    <div id="solStatus">SOL Wallet: Not Connected</div>
    <div id="balanceStatus"></div>
  </div>
</section>

<!-- Mint + Submit Section -->
<section id="mint" class="relative z-10 py-24 px-6 flex flex-col items-center bg-[#111] text-center">
  <h2 class="text-4xl md:text-6xl neon-text font-bold mb-8">ðŸ”¥ Mint, Submit, Burn ðŸ”¥</h2>

  <form id="roastForm" class="max-w-md w-full space-y-6">
    <input type="text" id="targetName" name="target" placeholder="@TargetToRoast" required
           class="w-full p-4 bg-black neon-border rounded placeholder-gray-500 text-white text-center text-lg"/>
    <select id="tokenChoice" class="w-full p-4 bg-black neon-border rounded text-white text-center text-lg">
      <option value="CRO">Submit with CRO (60)</option>
      <option value="SOL">Submit with SOL (0.032)</option>
    </select>
    <button type="button" onclick="handleSubmit()" 
            class="w-full py-4 neon-border text-white font-bold text-xl hover:bg-pink-600 transition">Submit Roast</button>
  </form>

  <div id="txStatus" class="hidden mt-6 p-4 neon-border text-center text-lg"></div>
  <div id="shareRoast" class="mt-6"></div>
</section>

<!-- Roasted Board Section -->
<section id="roasted" class="relative z-10 py-24 px-6 flex flex-col items-center bg-black text-center">
  <h2 class="text-4xl md:text-6xl neon-text font-bold mb-6">ROASTED</h2>
  <p class="text-lg text-gray-400 mb-10">The brave. The burned. The remembered.</p>

  <div id="roastList" class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl"></div>
</section>

<!-- Footer -->
<footer class="relative z-10 py-10 bg-black text-center text-gray-500 text-sm">
  Built with fire and neon by Y2K x ROAST.
</footer>

  <!-- FIREBASE SDK + FIRESTORE -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCLGt0gVlI8BKdrpME4IefwVjF_ehJJmug",
    authDomain: "y2kroast-512ee.firebaseapp.com",
    projectId: "y2kroast-512ee",
    storageBucket: "y2kroast-512ee.appspot.com",
    messagingSenderId: "602588659855",
    appId: "1:602588659855:web:f01efa4b81e737d26270fa"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  window.db = db;
  window.collection = collection;
  window.addDoc = addDoc;
  window.getDocs = getDocs;
  window.query = query;
  window.orderBy = orderBy;
</script>

<!-- WALLET CONNECT + ROAST FUNCTIONS -->
<script>
const CRO_RECIPIENT = "0x99FD6Daaa57ebE7f10Ee94E6c1b7522Fa2b0d100";
const SOL_RECIPIENT = "HQcgVnNacvvjK4ToX8Pcq2bKmD5s32XR6AarQ2EVrrpq";
const CRO_AMOUNT = "60";
const SOL_AMOUNT = "0.032";

let croWallet = null;
let solWallet = null;
let isProcessing = false;

async function connectCRO() {
  const provider = window.ethereum;
  if (!provider) return alert("Please install MetaMask or DeFi Wallet");

  const accounts = await provider.request({ method: 'eth_requestAccounts' });
  croWallet = new ethers.providers.Web3Provider(provider);

  document.getElementById('croStatus').textContent = `CRO Wallet: Connected (${accounts[0].slice(0,6)}...)`;
}

async function connectSOL() {
  const provider = window.phantom?.solana;
  if (!provider) return alert("Please install Phantom Wallet");

  if (!provider.isConnected) await provider.connect();
  solWallet = provider;

  document.getElementById('solStatus').textContent = `SOL Wallet: Connected (${provider.publicKey.toString().slice(0,6)}...)`;
}

async function handleSubmit() {
  if (isProcessing) return;
  const target = document.getElementById('targetName').value.trim();
  const token = document.getElementById('tokenChoice').value;
  if (!target.startsWith('@')) return showTxStatus('Invalid ð• handle. Must start with @.', 'error');

  isProcessing = true;
  showTxStatus('Processing Roast...', 'processing');

  try {
    if (token === 'CRO') await submitWithCRO(target);
    else await submitWithSOL(target);
  } catch (err) {
    showTxStatus(err.message, 'error');
  }

  isProcessing = false;
}

async function submitWithCRO(target) {
  if (!croWallet) return showTxStatus('Connect CRO wallet first.', 'error');
  const signer = croWallet.getSigner();
  const tx = await signer.sendTransaction({
    to: CRO_RECIPIENT,
    value: ethers.utils.parseUnits(CRO_AMOUNT, 'ether')
  });
  await tx.wait();
  await saveRoast(target, 'CRO', tx.hash);
}

async function submitWithSOL(target) {
  if (!solWallet) return showTxStatus('Connect SOL wallet first.', 'error');
  const connection = new solanaWeb3.Connection("https://api.mainnet-beta.solana.com");
  const amount = solanaWeb3.LAMPORTS_PER_SOL * parseFloat(SOL_AMOUNT);

  const tx = new solanaWeb3.Transaction().add(
    solanaWeb3.SystemProgram.transfer({
      fromPubkey: solWallet.publicKey,
      toPubkey: new solanaWeb3.PublicKey(SOL_RECIPIENT),
      lamports: amount,
    })
  );

  const { blockhash } = await connection.getLatestBlockhash();
  tx.recentBlockhash = blockhash;
  tx.feePayer = solWallet.publicKey;

  const signed = await solWallet.signTransaction(tx);
  const signature = await connection.sendRawTransaction(signed.serialize());
  await connection.confirmTransaction(signature);

  await saveRoast(target, 'SOL', signature);
}

async function saveRoast(target, chain, txHash) {
  await addDoc(collection(db, "roasts"), {
    target,
    chain,
    txHash,
    timestamp: Date.now(),
    likes: 0
  });

  showTxStatus('Roast Submitted! Glitch Initiated...', 'success');
  updateRoastList();
}

async function updateRoastList() {
  const q = query(collection(db, "roasts"), orderBy("timestamp", "desc"));
  const snapshot = await getDocs(q);

  const list = document.getElementById('roastList');
  list.innerHTML = "";

  snapshot.forEach(doc => {
    const data = doc.data();
    list.innerHTML += `
      <div class="p-4 neon-border rounded space-y-2">
        <div class="font-bold text-xl">${data.target}</div>
        <div class="text-gray-400 text-sm">${data.chain} TX: ${data.txHash.slice(0,8)}...</div>
      </div>`;
  });
}

function showTxStatus(msg, type) {
  const txStatus = document.getElementById('txStatus');
  txStatus.className = `mt-6 p-4 neon-border text-center text-lg ${type}`;
  txStatus.textContent = msg;
  txStatus.style.display = 'block';

  if (type === 'success') {
    txStatus.classList.add('animate-pulse');
    setTimeout(() => {
      txStatus.classList.add('hidden');
    }, 4000);
  }
}

// Portal Entry Unlock
function enterPortal() {
  const overlay = document.getElementById('enterOverlay');
  overlay.style.transition = "opacity 1s ease";
  overlay.style.opacity = 0;
  setTimeout(() => {
    overlay.style.display = "none";
    document.getElementById('portal').scrollIntoView({ behavior: 'smooth' });
  }, 1000);
}

// Cursor Glow
const cursor = document.getElementById('cursorGlow');
window.addEventListener('mousemove', e => {
  cursor.style.left = e.pageX + 'px';
  cursor.style.top = e.pageY + 'px';
  cursor.classList.remove('hidden');
});
</script>

</body>
</html>
