<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
  <title>Y2K x ROAST | Dual Chain Chaos</title>
  <meta name="description" content="The Y2K x ROAST fusion hub. Explore NFTs, burn mechanics, and trading portals across Cronos and Solana."/>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Rubik:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
</head>
<body class="bg-black text-white">

<div id="app" class="min-h-screen flex flex-col">
  <!-- Top Navigation -->
  <header class="w-full p-4 bg-[#111] flex justify-between items-center fixed top-0 z-50">
    <h1 class="text-2xl glitch font-bold">Y2K x $ROAST</h1>
    <nav class="space-x-4 text-sm">
      <a href="#nfts" class="hover:text-[#ff00ff]">Mint</a>
      <a href="#dex" class="hover:text-[#ff00ff]">Trade</a>
      <a href="#connect" class="hover:text-[#ff00ff]">Connect</a>
      <a href="#submit-roast" class="hover:text-[#ff00ff]">Submit</a>
      <a href="#roasted" class="hover:text-[#ff00ff]">ROASTED</a>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="text-center py-24 px-4 bg-gradient-to-b from-[#1a1a1a] to-black mt-14">
    <h2 class="text-4xl glitch font-bold mb-4">Dual Chain. No Mercy.</h2>
    <p class="text-lg mx-auto text-gray-400">From CRO to SOL, we roast devs, reward the fearless, and burn it all to the ground.</p>
    <div class="mt-8 flex flex-col gap-4">
      <a href="#nfts" class="px-6 py-3 neon-border">View NFTs</a>
      <a href="#dex" class="px-6 py-3 neon-border">Trade Now</a>
    </div>
  </section>

  <!-- NFT Section -->
  <section id="nfts" class="bg-[#111] py-12 px-4">
    <h3 class="text-3xl glitch font-bold text-center mb-8">Live Music NFT Drops</h3>
    <div class="overflow-x-auto whitespace-nowrap space-x-4 flex px-2 pb-4 snap-x snap-mandatory">
      <div class="inline-block w-48 h-48 flex-shrink-0 snap-center">
        <a href="https://eric-mode-business-boomin.nfts2.me/" target="_blank">
          <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5510.jpeg"
               alt="Eric Mode" class="w-48 h-48 rounded neon-border object-cover" loading="lazy"/>
        </a>
      </div>
      <div class="inline-block w-48 h-48 flex-shrink-0 snap-center">
        <a href="https://cronoshadow.nfts2.me/" target="_blank">
          <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5403.jpeg"
               alt="Cards of Cronos" class="w-48 h-48 rounded neon-border object-cover" loading="lazy"/>
        </a>
      </div>
      <div class="inline-block w-48 h-48 flex-shrink-0 snap-center">
        <a href="https://creative-diamondhands-final-strike-mode.nfts2.me/" target="_blank">
          <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5299.jpeg"
               alt="DiamondHands" class="w-48 h-48 rounded neon-border object-cover" loading="lazy"/>
        </a>
      </div>
      <div class="inline-block w-48 h-48 flex-shrink-0 snap-center">
        <a href="https://dojo-warriors-anthem.nfts2.me/" target="_blank">
          <img src="https://raw.githubusercontent.com/LandoCrissian/Y2kCoin-Website/refs/heads/main/IMG_5285.jpeg"
               alt="Dojo Warriors" class="w-48 h-48 rounded neon-border object-cover" loading="lazy"/>
        </a>
      </div>
    </div>
  </section>

  <!-- Submit Roast Section -->
  <section id="submit-roast" class="py-16 px-6 bg-black text-center">
    <h3 class="text-4xl glitch font-bold mb-4">Submit a Roast Target</h3>
    <p class="text-gray-400 max-w-xl mx-auto mb-4">
      Drop a name from ùïè. Choose SOL or CRO. The top roast wins half the pot ‚Äî the rest gets burned.
    </p>

    <!-- Prize Pool Display -->
    <div class="text-lg text-pink-400 font-bold mb-6">
      This Week's Pool: <span id="poolCRO">0 CRO</span> + <span id="poolSOL">0 SOL</span>
    </div>

    <!-- Wallet Connection Status -->
    <div class="wallet-status bg-[#1a1a1a] p-4 rounded-lg mb-6 max-w-md mx-auto">
      <div id="croStatus" class="mb-2 text-gray-300">CRO Wallet: Not Connected</div>
      <div id="solStatus" class="text-gray-300">SOL Wallet: Not Connected</div>
      <div class="flex gap-4 mt-4 justify-center">
        <button onclick="connectCRO()" class="px-4 py-2 bg-[#ff00ff] text-black rounded hover:bg-pink-600">
          Connect CRO
        </button>
        <button onclick="connectSOL()" class="px-4 py-2 bg-[#ff00ff] text-black rounded hover:bg-pink-600">
          Connect SOL
        </button>
      </div>
    </div>

    <!-- Roast Submission Form -->
    <form id="roastForm" class="max-w-md mx-auto space-y-4">
      <select id="tokenChoice" class="w-full p-3 rounded bg-[#1a1a1a] text-white neon-border">
        <option value="CRO">Submit with CRO (60)</option>
        <option value="SOL">Submit with SOL (0.032)</option>
      </select>

      <input type="text" id="targetName" name="target" 
             placeholder="@name or project from ùïè"
             class="w-full p-3 rounded bg-[#1a1a1a] text-white neon-border"/>

      <button type="button" onclick="handleSubmit()"
              class="w-full bg-[#ff00ff] text-black font-bold py-2 rounded hover:bg-pink-600">
        Submit Roast
      </button>
    </form>

    <!-- Transaction Status -->
    <div id="txStatus" class="mt-4 p-4 rounded-lg hidden"></div>
    <div id="shareRoast" class="mt-4"></div>
  </section>

  <!-- Roasted Section -->
  <section id="roasted" class="py-16 px-6 bg-[#111] text-center">
    <h3 class="text-4xl glitch font-bold mb-8">ROASTED</h3>
    <p class="text-gray-400 max-w-xl mx-auto mb-6">
      These names got scorched this week. Fire them up or drop your own below.
    </p>
    <div id="roastList" class="grid gap-4 max-w-2xl mx-auto"></div>
  </section>

  <!-- DEX Section -->
  <section id="dex" class="bg-[#111] py-12 px-4 text-center">
    <h3 class="text-3xl glitch font-bold mb-4">Trade with Fire</h3>
    <div class="flex flex-col gap-4 mt-6">
      <a href="https://dexscreener.com/cronos/0xDdF11258F392080BC16cF26aA1C58A19c50b9641" 
         target="_blank" class="px-6 py-3 glow">Trade $Y2K (Cronos)</a>
      <a href="https://raydium.io/launchpad/token/?mint=A6db9o4y5phC5ncSdM8pQKmWanodxLyXgwxuVCuA4ray" 
         target="_blank" class="px-6 py-3 glow">Trade $ROAST (Solana)</a>
    </div>
  </section>

  <!-- Connect Section -->
  <section id="connect" class="py-12 px-4 text-center">
    <h3 class="text-3xl glitch font-bold mb-4">Stay Plugged In</h3>
    <p class="text-gray-400 mb-6">Join the fam. Talk your shit. Earn your spot.</p>
    <div class="flex justify-center gap-4">
      <a href="https://discord.gg/XxtpYNXX4a" target="_blank" class="neon-border px-4 py-2">Discord</a>
      <a href="https://x.com/y2kc0in?s=21" target="_blank" class="neon-border px-4 py-2">ùïè (Twitter)</a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-black text-center text-sm py-8 px-4 text-gray-600 mt-auto">
    Y2KCoin & $ROAST ‚Äî Contract Addresses:<br/>
    <span class="break-all">Cronos: 0xB4Df7d2A736Cc391146bB0dF4277E8F68247Ac6d</span><br/>
    <span class="break-all">Solana: A6db9o4y5phC5ncSdM8pQKmWanodxLyXgwxuVCuA4ray</span>
  </footer>
</div>

<style>
  html { 
    background-color: #0a0a0a; 
  }
  
  body {
    background-color: #0a0a0a;
    font-family: 'Rubik', sans-serif;
    color: #e2e8f0;
    overflow-x: hidden;
  }

  .glitch {
    text-shadow: 2px 0 red, -2px 0 cyan;
    font-family: 'Orbitron', sans-serif;
    animation: glitch 2s infinite;
  }

  @keyframes glitch {
    0% { text-shadow: 2px 0 red, -2px 0 cyan; }
    25% { text-shadow: -2px 0 red, 2px 0 cyan; }
    50% { text-shadow: 2px 0 cyan, -2px 0 red; }
    75% { text-shadow: -2px 0 cyan, 2px 0 red; }
    100% { text-shadow: 2px 0 red, -2px 0 cyan; }
  }

  .neon-border {
    border: 2px solid #ff00ff;
    box-shadow: 0 0 10px #ff00ff;
    transition: all 0.3s ease;
    border-radius: 8px;
  }

  .neon-border:active {
    transform: scale(0.95);
    box-shadow: 0 0 5px #ff00ff;
  }

  .glow {
    background: rgba(255, 0, 255, 0.1);
    border: 2px solid #ff0077;
    box-shadow: 0 0 20px #ff0077;
    transition: all 0.3s ease;
    border-radius: 8px;
  }

  .glow:active {
    transform: scale(0.95);
    box-shadow: 0 0 10px #ff0077;
  }

  #nfts img {
    width: 192px;
    height: 192px;
    object-fit: cover;
    display: block;
    transition: transform 0.3s ease;
  }

  #nfts img:hover {
    transform: scale(1.05);
  }

  #txStatus {
    transition: all 0.3s ease;
  }

  #txStatus.success {
    background: rgba(0, 255, 0, 0.1);
    border: 1px solid #00ff00;
  }

  #txStatus.error {
    background: rgba(255, 0, 0, 0.1);
    border: 1px solid #ff0000;
  }

  .wallet-status button:disabled {
    background: #666;
    cursor: not-allowed;
  }

  input:focus, select:focus {
    outline: none;
    box-shadow: 0 0 0 2px #ff00ff;
  }

  .roast-item {
    transform: translateZ(0);
    transition: all 0.3s ease;
  }

  .roast-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.2);
  }
</style>

<script>
// Network Configurations
const CRONOS_MAINNET = {
    chainId: '0x19',
    chainName: 'Cronos Mainnet',
    nativeCurrency: {
        name: 'CRO',
        symbol: 'CRO',
        decimals: 18
    },
    rpcUrls: ['https://evm.cronos.org'],
    blockExplorerUrls: ['https://cronoscan.com/']
};

// State Management
let croWallet = null;
let solWallet = null;
let isProcessing = false;

// Constants
const CRO_RECIPIENT = "0x99FD6Daaa57ebE7f10Ee94E6c1b7522Fa2b0d100";
const SOL_RECIPIENT = "HQcgVnNacvvjK4ToX8Pcq2bKmD5s32XR6AarQ2EVrrpq";
const CRO_AMOUNT = "60";
const SOL_AMOUNT = "0.032";

// UI Updates
function showTxStatus(message, type) {
    const status = document.getElementById('txStatus');
    status.textContent = message;
    status.className = `mt-4 p-4 rounded-lg ${type} block`;
    
    if (type !== 'processing') {
        setTimeout(() => {
            status.className = 'mt-4 p-4 rounded-lg hidden';
        }, 5000);
    }
}

// Wallet Connections
async function connectCRO() {
    try {
        showTxStatus('Connecting to CRO wallet...', 'processing');
        
        const provider = window.ethereum || window.deficonnectProvider;
        if (!provider) {
            throw new Error('Please install MetaMask or Crypto.com DeFi Wallet');
        }

        const accounts = await provider.request({ method: 'eth_requestAccounts' });
        
        try {
            await provider.request({
                method: 'wallet_switchEthereumChain',
                params: [{ chainId: CRONOS_MAINNET.chainId }],
            });
        } catch (switchError) {
            if (switchError.code === 4902) {
                await provider.request({
                    method: 'wallet_addEthereumChain',
                    params: [CRONOS_MAINNET],
                });
            } else {
                throw switchError;
            }
        }

        croWallet = new ethers.providers.Web3Provider(provider);
        document.getElementById('croStatus').textContent = 
            `CRO Wallet: Connected (${accounts[0].slice(0,6)}...)`;
        showTxStatus('CRO Wallet connected successfully', 'success');
        
        // Listen for account changes
        provider.on('accountsChanged', (accounts) => {
            if (accounts.length === 0) {
                croWallet = null;
                document.getElementById('croStatus').textContent = 'CRO Wallet: Not Connected';
                showTxStatus('CRO Wallet disconnected', 'error');
            } else {
                document.getElementById('croStatus').textContent = 
                    `CRO Wallet: Connected (${accounts[0].slice(0,6)}...)`;
            }
        });

    } catch (error) {
        croWallet = null;
        showTxStatus(`CRO Connection error: ${error.message}`, 'error');
    }
}

async function connectSOL() {
    try {
        showTxStatus('Connecting to SOL wallet...', 'processing');
        
        const provider = window.phantom?.solana || window.solflare?.solana || window.backpack?.solana;
        if (!provider) {
            throw new Error('Please install Phantom, Solflare, or Backpack wallet');
        }

        if (!provider.isConnected) {
            await provider.connect();
        }

        solWallet = provider;
        document.getElementById('solStatus').textContent = 
            `SOL Wallet: Connected (${provider.publicKey.toString().slice(0,6)}...)`;
        showTxStatus('SOL Wallet connected successfully', 'success');

        // Listen for disconnect
        provider.on('disconnect', () => {
            solWallet = null;
            document.getElementById('solStatus').textContent = 'SOL Wallet: Not Connected';
            showTxStatus('SOL Wallet disconnected', 'error');
        });

    } catch (error) {
        solWallet = null;
        showTxStatus(`SOL Connection error: ${error.message}`, 'error');
    }
}

// Transaction Handling
async function handleSubmit() {
    if (isProcessing) {
        showTxStatus('Please wait for the current transaction to complete', 'error');
        return;
    }

    const target = document.getElementById('targetName').value.trim();
    const token = document.getElementById('tokenChoice').value;

    if (!target || !target.startsWith('@')) {
        showTxStatus('Please enter a valid ùïè username starting with @', 'error');
        return;
    }

    isProcessing = true;
    try {
        if (token === 'CRO') {
            await submitWithCRO(target);
        } else {
            await submitWithSOL(target);
        }
    } finally {
        isProcessing = false;
    }
}

async function submitWithCRO(target) {
    try {
        if (!croWallet) {
            throw new Error('Please connect CRO wallet first');
        }

        showTxStatus('Preparing CRO transaction...', 'processing');
        
        const signer = croWallet.getSigner();
        const tx = await signer.sendTransaction({
            to: CRO_RECIPIENT,
            value: ethers.utils.parseUnits(CRO_AMOUNT, "ether")
        });

        showTxStatus('Confirming CRO transaction...', 'processing');
        await tx.wait();

        showTxStatus(`Roast submitted via CRO! TX: ${tx.hash}`, 'success');
        saveRoast(target, 'Cronos', tx.hash);
        shareRoast(target, 'CROFam');
        
    } catch (error) {
        showTxStatus(`CRO Payment error: ${error.message}`, 'error');
    }
}

async function submitWithSOL(target) {
    try {
        if (!solWallet) {
            throw new Error('Please connect SOL wallet first');
        }

        showTxStatus('Preparing SOL transaction...', 'processing');

        const connection = new solanaWeb3.Connection(solanaWeb3.clusterApiUrl("mainnet-beta"));
        
        const tx = new solanaWeb3.Transaction().add(
            solanaWeb3.SystemProgram.transfer({
                fromPubkey: solWallet.publicKey,
                toPubkey: new solanaWeb3.PublicKey(SOL_RECIPIENT),
                lamports: solanaWeb3.LAMPORTS_PER_SOL * parseFloat(SOL_AMOUNT),
            })
        );

        const { blockhash } = await connection.getLatestBlockhash();
        tx.recentBlockhash = blockhash;
        tx.feePayer = solWallet.publicKey;

        const signed = await solWallet.signTransaction(tx);
        const signature = await connection.sendRawTransaction(signed.serialize());
        
        showTxStatus('Confirming SOL transaction...', 'processing');
        await connection.confirmTransaction(signature);

        showTxStatus(`Roast submitted via SOL! TX: ${signature}`, 'success');
        saveRoast(target, 'Solana', signature);
        shareRoast(target, 'SolanaGang');

    } catch (error) {
        showTxStatus(`SOL Payment error: ${error.message}`, 'error');
    }
}

// Roast Management
function saveRoast(target, chain, txHash) {
    const roasts = JSON.parse(localStorage.getItem('roasts')) || [];
    roasts.unshift({ 
        target, 
        chain, 
        txHash,
        likes: 0, 
        timestamp: Date.now() 
    });
    localStorage.setItem('roasts', JSON.stringify(roasts));
    updateRoastList();
}

function shareRoast(target, tag) {
    const tweetText = encodeURIComponent(
        `I just submitted ${target} to be roasted on $ROAST.\nVote or burn.\n`
    );
    const tweetURL = `https://x.com/intent/tweet?text=${tweetText}&hashtags=Y2KRoast,${tag}`;
    document.getElementById('shareRoast').innerHTML =
        `<a href="${tweetURL}" target="_blank" 
            class="inline-block mt-4 px-4 py-2 bg-[#ff00ff] text-black font-bold rounded hover:bg-pink-600">
            Share on ùïè
        </a>`;
}

function likeRoast(btn) {
    const roastEl = btn.closest('.roast-item');
    const target = roastEl.dataset.target;
    const roasts = JSON.parse(localStorage.getItem('roasts')) || [];
    const roast = roasts.find(r => r.target === target);
    
    if (roast) {
        roast.likes++;
        localStorage.setItem('roasts', JSON.stringify(roasts));
        const likeCount = roastEl.querySelector('.like-count');
        likeCount.textContent = `üî• ${roast.likes}`;
        btn.disabled = true;
        btn.textContent = 'Fired!';
        btn.className = 'mt-2 px-3 py-1 text-xs bg-gray-600 rounded cursor-not-allowed';
    }
}

function updateRoastList() {
    const roastList = document.getElementById('roastList');
    const roasts = JSON.parse(localStorage.getItem('roasts')) || [];
    
    roastList.innerHTML = roasts.map(roast => `
        <div class="roast-item bg-[#1a1a1a] p-4 rounded neon-border" data-target="${roast.target}">
            <div class="flex justify-between items-start">
                <div>
                    <div class="font-bold">${roast.target}</div>
                    <div class="text-sm text-gray-400">${roast.chain}</div>
                    <div class="text-xs text-gray-500 mt-1">
                        TX: ${roast.txHash ? roast.txHash.slice(0,8) + '...' : 'Pending'}
                    </div>
                </div>
                <div class="text-right">
                    <div class="like-count text-pink-400">üî• ${roast.likes}</div>
                    <button onclick="likeRoast(this)" 
                            class="mt-2 px-3 py-1 text-xs bg-pink-600 rounded hover:bg-pink-700">
                        +üî• Fire
                    </button>
                </div>
            </div>
        </div>
    `).join('');
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    updateRoastList();
    updatePrizePool(360, 0.096); // Example pool values
});

function updatePrizePool(cro, sol) {
    document.getElementById("poolCRO").textContent = `${cro} CRO`;
    document.getElementById("poolSOL").textContent = `${sol} SOL`;
}

// Add touch event listeners for mobile
document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('button, .neon-border, .glow');
    buttons.forEach(button => {
        button.addEventListener('touchstart', () => {
            button.style.transform = 'scale(0.95)';
        });
        button.addEventListener('touchend', () => {
            button.style.transform = 'scale(1)';
        });
    });
});
</script>

</body>
</html>
